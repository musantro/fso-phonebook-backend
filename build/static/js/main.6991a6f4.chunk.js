(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),u=t(15),o=t.n(u),i=(t(20),t(6)),r=t(3),s=t(4),j=t.n(s),d="/api/persons",l=function(e){return e.then((function(e){return e.data}))},b=function(){return l(j.a.get(d))},f=function(e){return l(j.a.post(d,e))},h=function(e){return j.a.delete("".concat(d,"/").concat(e))},m=function(e,n){return l(j.a.put("".concat(d,"/").concat(e),n))},O=t(0),v=function(e){var n=e.message,t=e.messageType;return null===n||""===n?null:Object(O.jsx)("div",{className:t,children:n})},p=function(e){return Object(O.jsxs)("div",{children:["filter shown with ",Object(O.jsx)("input",{value:e.value,onChange:e.onChange})]})},g=function(e){return Object(O.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(O.jsxs)("div",{children:["name: ",Object(O.jsx)("input",{value:e.value,onChange:e.onChange})]}),Object(O.jsxs)("div",{children:["number: ",Object(O.jsx)("input",{value:e.value1,onChange:e.onChange1})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{type:"submit",children:"add"})})]})},x=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],u=Object(c.useState)(""),o=Object(r.a)(u,2),s=o[0],j=o[1],d=Object(c.useState)(""),l=Object(r.a)(d,2),x=l[0],w=l[1],C=Object(c.useState)(""),S=Object(r.a)(C,2),y=S[0],T=S[1],k=Object(c.useState)(""),F=Object(r.a)(k,2),L=F[0],B=F[1],D=Object(c.useState)(""),P=Object(r.a)(D,2),E=P[0],I=P[1];Object(c.useEffect)((function(){b().then((function(e){return a(e)}))}),[]);var J=t.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"PhoneBook"}),Object(O.jsx)(v,{message:L,messageType:"success"}),Object(O.jsx)(v,{message:E,messageType:"error"}),Object(O.jsx)(p,{value:y,onChange:function(e){T(e.target.value)}}),Object(O.jsx)("h3",{children:"add a new"}),Object(O.jsx)(g,{onSubmit:function(e){if(e.preventDefault(),new Set(t.map((function(e){return e.name}))).has(s)){if(window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))){var n=t.find((function(e){return e.name===s})),c=Object(i.a)(Object(i.a)({},n),{},{number:x});m(c.id,c).then((function(e){a(t.map((function(n){return n.id!==c.id?n:e})))})).catch((function(e){I("the person ".concat(n.name," was already deleted from server")),setTimeout((function(){I(null)}),5e3),a(t.filter((function(e){return e.name!==c.name})))}))}}else f({name:s,number:x}).then((function(e){B("Added '".concat(e.name,"'")),setTimeout((function(){B(null)}),5e3),a(t.concat(e)),j(""),w("")}))},value:s,onChange:function(e){j(e.target.value)},value1:x,onChange1:function(e){w(e.target.value)}}),Object(O.jsx)("h3",{children:"Numbers"}),Object(O.jsx)("div",{children:J.map((function(e){return Object(O.jsxs)("div",{children:[e.name," ",e.number,Object(O.jsx)("button",{onClick:(n=e,function(){window.confirm("Delete ".concat(n.name," ?"))&&h(n.id).then((function(e){a(t.filter((function(e){return e.id!==n.id})))})).catch((function(e){I("the person ".concat(n.name," was already deleted from server")),setTimeout((function(){I(null)}),5e3),a(t.filter((function(e){return e.name!==n.name})))}))}),children:"delete"})]},e.id);var n}))})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,u=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),u(e),o(e)}))};o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root")),w()}},[[40,1,2]]]);
//# sourceMappingURL=main.6991a6f4.chunk.js.map